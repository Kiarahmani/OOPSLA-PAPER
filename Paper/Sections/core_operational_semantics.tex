Before intorducing the semantics, given an execution state $E$ and a
set $V$ of \emph{available} effects, we need to define the inverse of a
relation. In correspondence with real
distributed replicas, where at any given moment only a subset of all
effects is present, we want to define the inverse of the relation,
\emph{only
if} the necessary information (which is carried by effects themselves) is present.
To do so, let's first formally define the inverse of a seed relation
$r$ for a given set of effects $S$:
\begin{smathpar}
r^{-1}(S) = 
\begin{cases}
\begin{array}{lll}
\bigcup^{}_{\eta\in S}. \{\eta'|(\eta',\eta) \in E.r \} & if &r\in\{so,vis\} \\ 
r_1^{-1}(S)\cup r_2^{-1}(S) & if & r=r_1\cup r_2
%\\G_{r}(S,\emptyset) & if &  r=r^* 
\end{array}
\end{cases}
\end{smathpar}
Now, using a helping fixpoint function $G_r$, we extend the above
definition to cover also the closure of a seed relation:
\begin{smathpar}
(r^{*})^{-1}(S) = G_{r}(S,\emptyset) 
\end{smathpar}
where,
\begin{smathpar}
G_r(S,P) =
\begin{cases}
\begin{array} {lll}
G_r(r^{-1}(S) , P\cup r^{-1}(S)) &if& r^{-1}(S) \neq \emptyset  \\
P  & &  otherwise
\end{array}
\end{cases}
\end{smathpar}
{\bf Definition:} For a given relation $R=r_1;r_2;...;r_k$, we
recursively define $R^{-1}$ as follows: 
\begin{smathpar}
\begin{array}{ccc}
   \eta' \in (r_1;r_2;...;r_k)^{-1}_V (\eta) & \iff & \exists
   \eta''.(\eta''\in r_k^{-1}
   (\eta))\; \wedge \;(\eta' \in (r_1;r_2;...;r_{k-1})^{-1}
   (\eta''))\;  \wedge \; (r_k^{-1}(\eta) \subseteq V)
\end{array}
\end{smathpar}
Note that the first two conjuncts are the straightforward stepwise definition of
the closure of relations. However, the last conjunct also require $V$ to include all
effects of the next step, before going further. This captures the
reality of the real systems where the dependencies cannot be computed
when the necessary information is not present at the replica. 

Now, we finish this part, by defining the maximally closed subset of a set
of effects $S$, given a relation $R$ and a set of available effects $V$
as follows:
\begin{smathpar}
\left \lfloor S \right \rfloor_V = S' \spc \iff \spc S'
\subseteq S \; \wedge \;
R_V^{-1}(S') \subseteq S' \; \wedge \; 
\not\exists
S''.((R_V^{-1}(S''))\subseteq S''\wedge |S''|>|S'|)
\end{smathpar}
The above statement, simply requires $\left \lfloor S \right \rfloor_V $
to be closed under $R_V^{-1}$ and to be the largest among such closed
subsets.
