\begin{definition}
For a given contract ($\psi=\forall(a,b). a
\xrightarrow{R} b \Rightarrow a \xrightarrow{vis} b $), we define a set
of effects $S$, to be  $\psi$-consistent under an execution $E$, if and
only if: 
$\forall (\eff \in S). \forall(a\in E.\EffSoup). R(a,\eta)
\Rightarrow a \in S$ 
\\(We use definition of $R^{-1}$ from the previous section to formally
define: $R(a,b) \iff a \in R_{E.A}^{-1}(b)  $)
\end{definition}

\begin{theorem}
For all operation executions of the form,  
\begin{smathpar}
(\E,op_{<s,i>}) 
    \;\xrightarrow{V}\;
  (\E',\eff) 
,\end{smathpar}

if $V$ is $\psi$-consistent then $(V\cup\{\eta\})$ is also
$\psi$-consistent.
\begin{proof}
\input{Sections/correctness_proof}
\end{proof}
\end{theorem}
%%%
\subsubsection{Maximal Visibility}
\begin{theorem}
For all operation executions of the form: 
\begin{smathpar}
(\E,op_{<s,i>}) 
    \;\xrightarrow{V}\;
  (\E',\eff) 
,\end{smathpar}
then set of effects made visible to $\eta$ is maximal. i.e. For all
execution states $E''$ such that:
\begin{smathpar}
(\E,op_{<s,i>})\;\xrightarrow{V}\;(\E'',\eff)
\end{smathpar}
then    
$\small (\E''.vis^{-1}(\eta)) \subseteq
(\E'.vis^{-1}(\eta))$
\begin{proof}
\input{Sections/maxvis_proof}
\end{proof}
\end{theorem}
%%%
\subsubsection{Minimum Wait (Progress)}
\begin{theorem}
For all execution states $E$, and {replica states} ($V\subseteq
E.A$), if there
exists ($S\subseteq V$) such that: 
\begin{smathpar}
\auxred{S} {(\E,op_{<s,i>})} {} {(\E',\eff)} \spc \wedge \spc (\mathtt{S \cup \{\eta\} \; is 
\;} \psi \mathtt{-consistent \; under \;} E' )  $ 
\end{smathpar}
then there exists $E''$ such that:
\begin{smathpar}
((\E,op_{<s,i>})\;\xrightarrow{V}\;(\E'',\eff))
\end{smathpar}

\end{theorem}







\newpage
