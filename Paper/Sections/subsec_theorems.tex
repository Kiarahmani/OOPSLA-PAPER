%
%Subsection on the correctness of contract 
%
\begin{definition}
For a given contract ($\psi=\forall(a,b). a
\xrightarrow{R} b \Rightarrow a \xrightarrow{vis} b $), we define a set
of effects $S$, to be  $\psi$-consistent under an execution $E$, if and
only if: 
$\forall (\eff \in S). \forall(a\in E.\EffSoup). R(a,\eta)
\Rightarrow a \in S$ 
\\(We use definition of $R^{-1}$ from the previous section to formally
define: $R(a,b) \iff a \in R_{E.A}^{-1}(b)  $)
\end{definition}

\begin{theorem}
For all operation executions of the form,  
\begin{smathpar}
(\E,op_{<s,i>}) 
    \;\xrightarrow{V}\;
  (\E',\eff) 
,\end{smathpar}

if $V$ is $\psi$-consistent then $(V\cup\{\eta\})$ is also
$\psi$-consistent.
\begin{proof}
\input{Sections/correctness_proof}
\end{proof}
\end{theorem}






