%
%Subsection on the correctness of contract 
%
In this section we present our meta-theoretic results on desired
properties for our consistency enforcement mechanism. What follows is three
theorems regarding the correctness of our approach, maximality of
witnessed effects by each operation (i.e. minimum staleness) and the
liveness guarantee of the system, given the eventual delivery of all
effects to all replicas, which is guaranteed by the underlying ECDS. Detailed proofs of all
theorems can be found in 
appendix \ref{appendix:proofs}.
Before presenting the theorems, we should define a $\psi$-consistent set of effects $S$ under
an execution state $\E$ as a set that is closed under $R$, i.e.
\begin{equation}
\scriptsize
S \mathtt{\;is\;} \psi \mathtt{-consistent} \iff \forall (\eff \in S).
\forall(a\in \E.\EffSoup). R(a,\eta)
\Rightarrow a \in S
\end{equation}
%Where the definition of $R$ is based on the definition of $R^{-1}$ from
%subsection 
%\ref{subsec:prelim}:
%\begin{equation}
%\scriptsize
%R(a,b) \iff a \in R_{E.A}^{-1}(b)  
%\end{equation}
\begin{theorem}
\label{theorem:one}
For all reduction steps 
$
\scriptsize
\; (\E,op_{<s,i>}) 
    \xrightarrow{V}
  (\E',\eff)  
$,
\begin{fmathpar}
\begin{array}{ll}
(i) & \mathtt{If\;} V \mathtt{\;is\;} \psi \mathtt{-consistent\;} \mathtt{under\;} \E,
\mathtt{\;then\;}  V \cup \{\eta\} \mathtt{\;is\;} \psi\mathtt{-consistent \; under\;} E'  \\
(ii) & E' \models \psi[\eta/\hat{\eta}]
\end{array}
\end{fmathpar}
\end{theorem}
This theorem states the preservation of $\psi$-consistency at replicas
under reduction stpes and secondly, the correctness of the enforced
consistency guarantee.



